#!/bin/sh
# shell script to prepend i3status with more stuff

i3status | while :

paused=$(dunstctl is-paused)
mute=""

if [ "${paused}" = "true" ]; then
    mute="âŒ |"
fi

audio_icon=$(case "$(pactl info | rg "Default Sink" | cut -d ":" -f 2 | xargs)" in
    "alsa_output.pci-0000_0c_00.6.analog-stereo") echo "ğŸ”Š" ;;
    "alsa_output.usb-Audio-Technica_ATR_USB_microphone-00.analog-stereo") echo "ğŸ§" ;;
    *) echo "ğŸ”‡" ;;
esac)

do
  read line
  echo "${mute} ${line} | ${audio_icon}" || exit 1
done
